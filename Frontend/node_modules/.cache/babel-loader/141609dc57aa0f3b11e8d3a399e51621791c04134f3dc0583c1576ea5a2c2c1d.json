{"ast":null,"code":"import _slicedToArray from\"/Users/griffins/Desktop/Lectures/Ruby/pet-finder/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import Animal from'./Animal';import AnimalDetails from'./AnimalDetails';import Search from'../Search';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AnimalList=function AnimalList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),animals=_useState2[0],setAnimals=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),allAnimals=_useState4[0],setAllAnimals=_useState4[1];useEffect(function(){fetch(\"http://localhost:9292/animal\").then(function(response){return response.json();}).then(function(data){setAnimals(data);});},[]);console.log(animals);function handleSearch(value){console.log(animals);var updatedAnimals=allAnimals.filter(function(animal){return animal.breeds.primary.toLowerCase()===value.toLowerCase();});setAnimals(updatedAnimals);}var animalArray=animals.map(function(animal){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{src:animal.image,alt:\"animal\"}),/*#__PURE__*/_jsxs(\"h2\",{children:[animal.name,\", \",animal.age,\", \",animal.breed,\", \",animal.gender]})]});});return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray\",children:[/*#__PURE__*/_jsx(Search,{onSearch:handleSearch}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap w-3/4 mx-auto\",children:[animals.map(function(animal,index){var _animal$primary_photo;var imageUrl=(_animal$primary_photo=animal.primary_photo_cropped)===null||_animal$primary_photo===void 0?void 0:_animal$primary_photo.small;return/*#__PURE__*/_jsx(Animal,{image:imageUrl?imageUrl:\"https://loremflickr.com/120/150/animal\",name:animal.name,breed:animal.breed,gender:animal.gender},index);}),/*#__PURE__*/_jsx(AnimalDetails,{animals:allAnimals}),animalArray]})]});};export default AnimalList;","map":{"version":3,"names":["useState","useEffect","Animal","AnimalDetails","Search","jsx","_jsx","jsxs","_jsxs","AnimalList","_useState","_useState2","_slicedToArray","animals","setAnimals","_useState3","_useState4","allAnimals","setAllAnimals","fetch","then","response","json","data","console","log","handleSearch","value","updatedAnimals","filter","animal","breeds","primary","toLowerCase","animalArray","map","children","src","image","alt","name","age","breed","gender","className","onSearch","index","_animal$primary_photo","imageUrl","primary_photo_cropped","small"],"sources":["/Users/griffins/Desktop/Lectures/Ruby/pet-finder/src/components/AnimalList.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport Animal from './Animal'\nimport AnimalDetails from './AnimalDetails'\nimport Search from '../Search'\n\nconst AnimalList = () => {\n    const [animals, setAnimals] = useState([])\n    const [allAnimals, setAllAnimals] = useState([])\n  \n    useEffect(()=>{\n        fetch(\"http://localhost:9292/animal\")\n        .then(response=>response.json())\n        .then((data)=>{ \n          setAnimals(data)\n        })\n    },[])\n    console.log(animals);\n\n    function handleSearch(value){\n      console.log(animals);\n      const updatedAnimals = allAnimals.filter(animal=> animal.breeds.primary.toLowerCase() === value.toLowerCase())\n      setAnimals(updatedAnimals)\n    }\n    const animalArray = animals.map((animal)=>{\n        return <div>\n            <img src= {animal.image} alt='animal' ></img>\n             <h2>{animal.name}, {animal.age}, {animal.breed}, {animal.gender}</h2>\n        </div>\n       \n            \n    })\n  return (\n    <div className=\"bg-gray\">\n      <Search onSearch={handleSearch}/>\n      <div className=\"flex flex-wrap w-3/4 mx-auto\">\n\n        {animals.map((animal, index) => {\n          let imageUrl = animal.primary_photo_cropped?.small;\n          return (\n            <Animal\n              key={index}\n              image={\n                imageUrl\n                  ? imageUrl\n                  : \"https://loremflickr.com/120/150/animal\"\n              }\n              name = {animal.name}\n              breed={animal.breed}\n              gender={animal.gender}\n            \n            />\n          );\n        })}\n         <AnimalDetails\n        animals={allAnimals}\n      />\n      {animalArray}\n      </div>\n    </div>\n  )\n}\n\nexport default AnimalList"],"mappings":"sIAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,MAAO,CAAAC,MAAM,KAAM,WAAW,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE9B,GAAM,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAS,CACrB,IAAAC,SAAA,CAA8BV,QAAQ,CAAC,EAAE,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAC1B,IAAAI,UAAA,CAAoCf,QAAQ,CAAC,EAAE,CAAC,CAAAgB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAzCE,UAAU,CAAAD,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAEhCf,SAAS,CAAC,UAAI,CACVkB,KAAK,CAAC,8BAA8B,CAAC,CACpCC,IAAI,CAAC,SAAAC,QAAQ,QAAE,CAAAA,QAAQ,CAACC,IAAI,EAAE,GAAC,CAC/BF,IAAI,CAAC,SAACG,IAAI,CAAG,CACZT,UAAU,CAACS,IAAI,CAAC,CAClB,CAAC,CAAC,CACN,CAAC,CAAC,EAAE,CAAC,CACLC,OAAO,CAACC,GAAG,CAACZ,OAAO,CAAC,CAEpB,QAAS,CAAAa,YAAYA,CAACC,KAAK,CAAC,CAC1BH,OAAO,CAACC,GAAG,CAACZ,OAAO,CAAC,CACpB,GAAM,CAAAe,cAAc,CAAGX,UAAU,CAACY,MAAM,CAAC,SAAAC,MAAM,QAAG,CAAAA,MAAM,CAACC,MAAM,CAACC,OAAO,CAACC,WAAW,EAAE,GAAKN,KAAK,CAACM,WAAW,EAAE,GAAC,CAC9GnB,UAAU,CAACc,cAAc,CAAC,CAC5B,CACA,GAAM,CAAAM,WAAW,CAAGrB,OAAO,CAACsB,GAAG,CAAC,SAACL,MAAM,CAAG,CACtC,mBAAOtB,KAAA,QAAA4B,QAAA,eACH9B,IAAA,QAAK+B,GAAG,CAAGP,MAAM,CAACQ,KAAM,CAACC,GAAG,CAAC,QAAQ,EAAQ,cAC5C/B,KAAA,OAAA4B,QAAA,EAAKN,MAAM,CAACU,IAAI,CAAC,IAAE,CAACV,MAAM,CAACW,GAAG,CAAC,IAAE,CAACX,MAAM,CAACY,KAAK,CAAC,IAAE,CAACZ,MAAM,CAACa,MAAM,GAAM,GACpE,CAGV,CAAC,CAAC,CACJ,mBACEnC,KAAA,QAAKoC,SAAS,CAAC,SAAS,CAAAR,QAAA,eACtB9B,IAAA,CAACF,MAAM,EAACyC,QAAQ,CAAEnB,YAAa,EAAE,cACjClB,KAAA,QAAKoC,SAAS,CAAC,8BAA8B,CAAAR,QAAA,EAE1CvB,OAAO,CAACsB,GAAG,CAAC,SAACL,MAAM,CAAEgB,KAAK,CAAK,KAAAC,qBAAA,CAC9B,GAAI,CAAAC,QAAQ,EAAAD,qBAAA,CAAGjB,MAAM,CAACmB,qBAAqB,UAAAF,qBAAA,iBAA5BA,qBAAA,CAA8BG,KAAK,CAClD,mBACE5C,IAAA,CAACJ,MAAM,EAELoC,KAAK,CACHU,QAAQ,CACJA,QAAQ,CACR,wCACL,CACDR,IAAI,CAAIV,MAAM,CAACU,IAAK,CACpBE,KAAK,CAAEZ,MAAM,CAACY,KAAM,CACpBC,MAAM,CAAEb,MAAM,CAACa,MAAO,EARjBG,KAAK,CAUV,CAEN,CAAC,CAAC,cACDxC,IAAA,CAACH,aAAa,EACfU,OAAO,CAAEI,UAAW,EACpB,CACDiB,WAAW,GACN,GACF,CAEV,CAAC,CAED,cAAe,CAAAzB,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}